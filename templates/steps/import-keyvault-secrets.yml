parameters:
  - name: displayName
    type: string
    default: Import Key Vault Secrets
  - name: azureSubscription
    type: string
    default: ''
  - name: keyVaultName
    type: string
    default: ''
  - name: secretsFilter
    type: string
    default: '*'

steps:
  - ${{ if and(ne(parameters.keyVaultName, ''), ne(parameters.azureSubscription, '')) }}:
    - task: AzureKeyVault@2
      displayName: ${{ parameters.displayName }}
      inputs:
        azureSubscription: ${{ parameters.azureSubscription }}
        KeyVaultName: ${{ parameters.keyVaultName }}
        SecretsFilter: ${{ parameters.secretsFilter }}
        RunAsPreJob: false

